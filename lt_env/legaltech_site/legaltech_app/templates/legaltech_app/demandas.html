{% extends 'legaltech_app/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block contenido %}
        <div class="col-sm-10 mb-5 mt-5" style="width:fit-content; padding-left:20%">
            <form method="GET">
                {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-12">     
                        <div class="input-group">
                            <input class="form-control py-2 border-right-0 border" type="search" name="Id_contiene" placeholder="Buscar por Id...">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-12">     
                            <div class="input-group">
                                <input class="form-control py-2 border-right-0 border" type="search" name="Fecha_contiene" placeholder="Buscar por AÃ±o, Ej: 2021...">
                            </div>
                        </div>
                </div>
                <button type="submit" class="btn btn-primary">Buscar</button>
            </form>  
            <div class="card"  style="width:fit-content;">
                <div class="card-header">
                    
                    <h3>Listado de demandas</h3>
                </div>
                <div class="card-body">
                 <table class="table">
                     <thead>
                         <tr>
                             <th>Id</th>
                             <th>Fecha</th>
                             <th>Hora</th>
                             <th>Tipo de demanda</th>
                             <th>Rut demandado</th>
                             <th>Nombre demandado</th>
                             <th>Apellido demandado</th>
                             <th>Rut demandante</th>
                             <th>Nombre demandante</th>
                             <th>Apellido demandante</th>
                             <th>Detalle</th>
                         </tr>
                     </thead>
                     
                     <tbody>
                        {% for x in queryset %}   
                         <tr>  
                             <td>{{x.Id}}</td>
                             <td>{{x.Fecha}}</td>
                             <td>{{x.Hora}}</td>
                             <td>{{x.get_Tipo_de_demanda_display}}</td>
                             <td>{{x.Rut_demandado}}</td>
                             <td>{{x.Nombre_demandado}}</td>
                             <td>{{x.Apellido_demandado}}</td>
                             <td>{{x.Rut_demandante}}</td>
                             <td>{{x.Nombre_demandante}}</td>
                             <td>{{x.Apellido_demandante}}</td>
                             <td><a href="{% url 'detalle_demanda' x.Id %}" class="btn" style="color: white;background-color:#4A76E5;"><i class="fa fa-fw fa-eye"></i>Ver</a></td>
                         </tr>
                        {% endfor %}
                     </tbody>    
                 </table>
                
                </div>  
            </div>
        </div>
{% endblock contenido %}